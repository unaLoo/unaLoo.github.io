---
title: 8-interface
date: 2025-09-29
tags:
  - TypeScript
---
# TypeScript çš„ interface æ¥å£

## ç®€ä»‹

interface æ˜¯å¯¹è±¡çš„æ¨¡æ¿ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§ç±»å‹çº¦å®šã€‚ä½¿ç”¨äº†æŸä¸ªæ¨¡æ¿çš„å¯¹è±¡ï¼Œå°±æ‹¥æœ‰äº†æŒ‡å®šçš„ç±»å‹ç»“æ„ã€‚

interface å¯ä»¥è¡¨ç¤ºå¯¹è±¡çš„å„ç§è¯­æ³•ï¼Œå®ƒçš„æˆå‘˜æœ‰ 5 ç§å½¢å¼ã€‚

- å¯¹è±¡çš„å±æ€§
- å¯¹è±¡çš„å±æ€§ç´¢å¼•
- å¯¹è±¡çš„æ–¹æ³•
- ç‹¬ç«‹çš„å‡½æ•°
- æ„é€ å‡½æ•°

ï¼ˆ1ï¼‰å¯¹è±¡å±æ€§

```ts
interface Point {
  x: number;
  y: number;
}
```

ï¼ˆ2ï¼‰å¯¹è±¡çš„å±æ€§ç´¢å¼•

```ts
interface A {
  [prop: string]: number;
}

// å±æ€§çš„æ•°å€¼ç´¢å¼•ï¼Œå…¶å®ç±»ä¼¼äºæ•°ç»„ã€‚
interface B {
  [prop: number]: string;
}

const obj: B = ["a", "b", "c"];
```

ï¼ˆ3ï¼‰å¯¹è±¡çš„æ–¹æ³•

```ts
interface A {
  f(x: boolean): string;
}
interface B {
  f: (x: boolean) => string;
}
interface C {
  f: { (x: boolean): string }; // åœ¨ f å±æ€§ä¸Šç”¨å‡½æ•°ç±»å‹çš„å¯¹è±¡ç±»å‹å†™æ³•
}
```

ï¼ˆ4ï¼‰å‡½æ•°

```ts
interface Add {
  (x: number, y: number): number;
}

const myAdd: Add = (x, y) => x + y;
```

ï¼ˆ5ï¼‰æ„é€ å‡½æ•°

```ts
interface ErrorConstructor {
  new (message?: string): Error;
}
```
## ç‰¹æ€§ï¼šç»§æ‰¿

interface å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»å‹ï¼Œä¸»è¦æœ‰ä¸‹é¢å‡ ç§æƒ…å†µã€‚
- ç»§æ‰¿å…¶ä»– interface
- ç»§æ‰¿è‡ª type
- ç»§æ‰¿è‡ª class

### ç»§æ‰¿å…¶ä»–æ¥å£

é€šè¿‡ä½¿ç”¨`extends`å…³é”®å­—ï¼Œç»§æ‰¿å…¶ä»– interfaceï¼Œå¹¶æ”¯æŒå¤šé‡ç»§æ‰¿ã€‚

```ts
interface Style {
  color: string;
}
interface Shape {
  name: string;
}
interface Circle extends Style, Shape {
  radius: number;
}
```

`extends`å…³é”®å­—ä¼šä»ç»§æ‰¿çš„æ¥å£é‡Œé¢æ‹·è´å±æ€§ç±»å‹ï¼Œä½†è¦æ³¨æ„

- å­æ¥å£çš„å±æ€§ä¼š**è¦†ç›–**çˆ¶æ¥å£çš„å±æ€§ã€‚**åŒåå±æ€§å¿…é¡»æ˜¯ç±»å‹å…¼å®¹çš„**ã€‚

- å¤šé‡ç»§æ‰¿æ—¶ï¼Œå¦‚æœå¤šä¸ªçˆ¶æ¥å£å­˜åœ¨åŒåå±æ€§ï¼Œ**åŒåå±æ€§å¿…é¡»æ˜¯ç±»å‹å…¼å®¹çš„**ã€‚

- ç®€å•æ¥è¯´ï¼ŒåŒåæ—¶ï¼Œå­ç±»å‹å¿…é¡»æ¯”çˆ¶ç±»å‹æ›´å…·ä½“ã€‚

### interface ç»§æ‰¿ type

interface å¯ä»¥ç»§æ‰¿`type`å‘½ä»¤å®šä¹‰çš„**å¯¹è±¡ç±»å‹**ã€‚

```ts
type Country = {
  name: string;
  capital: string;
};

interface CountryWithPop extends Country {
  population: number;
}
```

### interface ç»§æ‰¿ class

interface è¿˜å¯ä»¥ç»§æ‰¿ classï¼Œå³ç»§æ‰¿è¯¥ç±»çš„æ‰€æœ‰æˆå‘˜ã€‚

```ts
class A {
  x: string = "";

  y(): boolean {
    return true;
  }
}

interface B extends A {
  z: number;
}

const b: B = {
  x: "",
  y: function () {
    return true;
  },
  z: 123,
};
```

æŸäº›ç±»æ‹¥æœ‰ç§æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜ï¼Œå¦‚æœç”¨ interface ç»§æ‰¿è¿™æ ·çš„ç±»ï¼Œprivate å’Œ protected å±æ€§è®¿é—®å’Œæ“ä½œä¸äº†ï¼Œæ ¹æœ¬æ— æ³•å®ç°ï¼Œæ²¡æœ‰æ„ä¹‰

```ts
class A {
    private x: string = "";
    protected y: string = "";
}

interface B extends A {
    z: number;
}

// æŠ¥é”™
// Type '{ x: string; y: string; z: number; }' is not assignable to type 'B'. Property 'x' is private in type 'B' but not in type '{ x: string; y: string; z: number; }'
const b: B = {
    x: '1',
    y: '2',
    z: 3
};

```
## ç‰¹æ€§ï¼šæ¥å£åˆå¹¶

å¤šä¸ªåŒåæ¥å£ä¼šåˆå¹¶æˆä¸€ä¸ªæ¥å£ã€‚

```ts
interface Box {
  height: number;
  width: number;
}

interface Box {
  length: number;
}
```

ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œä¸¤ä¸ª`Box`æ¥å£ä¼šåˆå¹¶æˆä¸€ä¸ªæ¥å£ï¼ŒåŒæ—¶æœ‰`height`ã€`width`å’Œ`length`ä¸‰ä¸ªå±æ€§ã€‚

Web ç½‘é¡µå¼€å‘ç»å¸¸ä¼šå¯¹`windows`å¯¹è±¡å’Œ`document`å¯¹è±¡æ·»åŠ **è‡ªå®šä¹‰å±æ€§**ï¼Œä½†æ˜¯ TypeScript ä¼šæŠ¥é”™ï¼Œå› ä¸ºåŸå§‹å®šä¹‰æ²¡æœ‰è¿™äº›å±æ€§ã€‚è§£å†³æ–¹æ³•å°±æ˜¯æŠŠè‡ªå®šä¹‰å±æ€§å†™æˆ interfaceï¼Œä¸åŸç”Ÿæ¥å£åˆå¹¶ã€‚

```ts
interface Document {
  foo: string;
}

document.foo = "hello";
```

åŒåæ¥å£åˆå¹¶æ—¶ï¼ŒåŒä¸€ä¸ªå±æ€§å¦‚æœæœ‰å¤šä¸ªç±»å‹å£°æ˜ï¼Œå½¼æ­¤ä¸èƒ½æœ‰ç±»å‹å†²çªï¼Œå¦‚æœåŒåæ–¹æ³•æœ‰ä¸åŒçš„ç±»å‹å£°æ˜ï¼Œé‚£ä¹ˆä¼šå‘ç”Ÿå‡½æ•°é‡è½½ã€‚è€Œä¸”ï¼Œåé¢çš„å®šä¹‰æ¯”å‰é¢çš„å®šä¹‰å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚

 Document å¯¹è±¡çš„`createElement()`æ–¹æ³•ï¼Œå®ƒä¼šæ ¹æ®å‚æ•°çš„ä¸åŒï¼Œè€Œç”Ÿæˆä¸åŒçš„ HTML èŠ‚ç‚¹å¯¹è±¡ã€‚

```ts
interface Document {
  createElement(tagName: any): Element;
}
interface Document {
  createElement(tagName: "div"): HTMLDivElement;
  createElement(tagName: "span"): HTMLSpanElement;
}
interface Document {
  createElement(tagName: string): HTMLElement;
  createElement(tagName: "canvas"): HTMLCanvasElement;
}

// ç­‰åŒäº
interface Document {
  createElement(tagName: "canvas"): HTMLCanvasElement;
  createElement(tagName: "div"): HTMLDivElement;
  createElement(tagName: "span"): HTMLSpanElement;
  createElement(tagName: string): HTMLElement;
  createElement(tagName: any): Element;
}
```

ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ`createElement()`æ–¹æ³•çš„å‡½æ•°é‡è½½ï¼Œ**å‚æ•°ä¸ºå­—é¢é‡çš„ç±»å‹å£°æ˜ä¼šæ’åˆ°æœ€å‰é¢**ï¼Œè¿”å›å…·ä½“çš„ HTML èŠ‚ç‚¹å¯¹è±¡ã€‚ç±»å‹è¶Šä¸å…·ä½“çš„å‚æ•°ï¼Œæ’åœ¨è¶Šåé¢ï¼Œè¿”å›é€šç”¨çš„ HTML èŠ‚ç‚¹å¯¹è±¡ã€‚

å¦‚æœä¸¤ä¸ª interface ç»„æˆçš„è”åˆç±»å‹å­˜åœ¨åŒåå±æ€§ï¼Œé‚£ä¹ˆ**è¯¥å±æ€§çš„ç±»å‹ä¹Ÿæ˜¯è”åˆç±»å‹ã€‚**

```ts
interface Circle {
  area: bigint;
}

interface Rectangle {
  area: number;
}

declare const s: Circle | Rectangle;

s.area; // bigint | number
```

ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ¥å£`Circle`å’Œ`Rectangle`ç»„æˆä¸€ä¸ªè”åˆç±»å‹`Circle | Rectangle`ã€‚å› æ­¤ï¼Œè¿™ä¸ªè”åˆç±»å‹çš„åŒåå±æ€§`area`ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªè”åˆç±»å‹ã€‚

## åŒºåˆ†ï¼šinterface vs type

**ğŸ± ç›¸ä¼¼åœ°**

`interface`å‘½ä»¤ä¸`type`å‘½ä»¤ä½œç”¨ç±»ä¼¼ï¼Œå¾ˆå¤šå¯¹è±¡ç±»å‹å³å¯ä»¥ç”¨ interface è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ç”¨ type è¡¨ç¤ºï¼Œä»–ä»¬éƒ½å¯ä»¥è¡¨ç¤º**å¯¹è±¡ç±»å‹**ã€‚

`class`å‘½ä»¤ä¹Ÿæœ‰ç±»ä¼¼ä½œç”¨ï¼Œé€šè¿‡å®šä¹‰ä¸€ä¸ªç±»ï¼ŒåŒæ—¶å®šä¹‰ä¸€ä¸ªå¯¹è±¡ç±»å‹ã€‚ä½†æ˜¯ï¼Œå®ƒä¼š**åˆ›é€ ä¸€ä¸ªå€¼**ï¼ˆä¸€ä¸ªæ„é€ å‡½æ•°ï¼‰ï¼Œç¼–è¯‘åä¾ç„¶å­˜åœ¨ã€‚

**ğŸ¶ ä¸åŒåœ°**

ï¼ˆ1ï¼‰èŒƒå›´ï¼š`type`èƒ½å¤Ÿè¡¨ç¤ºéå¯¹è±¡ç±»å‹ï¼Œè€Œ`interface`åªèƒ½è¡¨ç¤ºå¯¹è±¡ç±»å‹ï¼ˆåŒ…æ‹¬æ•°ç»„ã€å‡½æ•°ç­‰ï¼‰ã€‚

ï¼ˆ2ï¼‰ç»§æ‰¿ï¼š`interface`å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»å‹ï¼Œ`type`ä¸æ”¯æŒç»§æ‰¿ï¼Œ`type`å¯ä»¥é€šè¿‡ `&`è¿ç®—ç¬¦é‡æ–°å®šä¹‰ç±»å‹

```ts
type Foo = { x: number };

interface Bar1 extends Foo {
  y: number;
}

type Bar2 = Foo & { y: number };
```

ï¼ˆ3ï¼‰åŒååˆå¹¶ï¼šåŒå`interface`ä¼šè‡ªåŠ¨åˆå¹¶ï¼ŒåŒå`type`åˆ™ä¼šæŠ¥é”™ã€‚

`interface` æ˜¯å¼€æ”¾çš„ï¼Œå¯ä»¥æ·»åŠ å±æ€§ï¼Œ`type` æ˜¯å°é—­çš„ï¼Œä¸èƒ½æ·»åŠ å±æ€§ï¼Œåªèƒ½å®šä¹‰æ–°çš„ `type`ã€‚

ï¼ˆ4ï¼‰`interface`ä¸èƒ½åŒ…å«**å±æ€§æ˜ å°„**ï¼ˆmapping / keyof è¿ç®—ï¼‰ï¼Œ`type`å¯ä»¥ã€‚

```ts
interface Point {
  x: number;
  y: number;
}

// æ­£ç¡®
type PointCopy1 = {
  [Key in keyof Point]: Point[Key];
};

// æŠ¥é”™
interface PointCopy2 {
  [Key in keyof Point]: Point[Key];
};
```

ï¼ˆ5ï¼‰`this`å…³é”®å­—åªèƒ½ç”¨äº`interface`ã€‚

```ts
// æ­£ç¡®
interface Foo {
  add(num: number): this;
}

// æŠ¥é”™
type Foo = {
  add(num: number): this;
};
```

ï¼ˆ6ï¼‰type å¯ä»¥æ‰©å±•**åŸå§‹æ•°æ®ç±»å‹**ï¼Œinterface ä¸è¡Œã€‚

```ts
// æ­£ç¡®
type MyStr = string & {
  type: "new";
};

// æŠ¥é”™
interface MyStr extends string {
  type: "new";
}
```

ï¼ˆ7ï¼‰`type`å¯ä»¥é€šè¿‡è”åˆç±»å‹å’Œäº¤å‰ç±»å‹è¡¨è¾¾æ›´å¤æ‚çš„ç±»å‹ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼Œå¦‚æœæœ‰**å¤æ‚**çš„ç±»å‹è¿ç®—ï¼Œé‚£ä¹ˆæ²¡æœ‰å…¶ä»–é€‰æ‹©åªèƒ½ä½¿ç”¨`type`ï¼›ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ`interface`çµæ´»æ€§æ¯”è¾ƒé«˜ï¼Œä¾¿äºæ‰©å……ç±»å‹æˆ–è‡ªåŠ¨åˆå¹¶ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨ã€‚