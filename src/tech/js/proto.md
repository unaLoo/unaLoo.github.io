---
title: 'JavaScript ä¸­çš„åŽŸåž‹ä¸ŽåŽŸåž‹é“¾'
date: 2025-05-06
tags:
  - JavaScript
---

> ä¸º JavaScript çš„é¢å‘å¯¹è±¡è®¾è®¡ä¸Žä¼ ç»Ÿç±»é©±åŠ¨è¯­è¨€ï¼ˆå¦‚ Javaã€C#ï¼‰æœ‰ç€æœ¬è´¨çš„ä¸åŒã€‚
> è¿™ç§å·®å¼‚ä¸ä»…å¡‘é€ äº† JS ç‹¬ç‰¹çš„è¯­æ³•é£Žæ ¼å’Œè¯­è¨€ç‰¹æ€§ï¼Œæ›´å½±å“äº†å¼€å‘è€…å¯¹å¯¹è±¡ã€ç»§æ‰¿å’Œå¤ç”¨çš„ç†è§£ã€‚
> æœ¬æ–‡å°†æ·±å…¥æŽ¢è®¨ JavaScript ä¸­çš„åŽŸåž‹ä¸ŽåŽŸåž‹é“¾æœºåˆ¶ï¼Œè§£æžå…¶æ ¸å¿ƒç‰¹æ€§ä¸Žå¸¸è§é—®é¢˜ã€‚- JS æ˜¯å¦æ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Ÿ
- åŽŸåž‹ã€åŽŸåž‹é“¾æ˜¯ä»€ä¹ˆï¼Ÿ
- åŽŸåž‹ç»§æ‰¿å’Œç±»ç»§æ‰¿æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
- JS æ˜¯å¦‚ä½•åŸºäºŽåŽŸåž‹é“¾å®žçŽ°ç»§æ‰¿çš„ï¼Ÿ

> é‡åˆ°è¿™äº›é—®é¢˜æ—¶ï¼Œ æˆ‘ä»¬å¸¸å¸¸ä¼šæ„Ÿåˆ°å›°æƒ‘ï¼Œå› ä¸º JavaScript çš„é¢å‘å¯¹è±¡è®¾è®¡ä¸Žä¼ ç»Ÿç±»é©±åŠ¨è¯­è¨€ï¼ˆå¦‚ Javaã€C#ï¼‰æœ‰ç€æœ¬è´¨çš„ä¸åŒ, æ–‡ç« ä»ŽJSçš„è®¾è®¡å“²å­¦ã€åŽŸåž‹ä¸ŽåŽŸåž‹é“¾ã€ä»ŽES5çš„ç»§æ‰¿ç†è§£åŽŸåž‹é“¾ä¸‰ä¸ªæ–¹é¢è¿›è¡Œé˜è¿°ã€‚


---

## ä¸€ã€JS çš„è®¾è®¡å“²å­¦ï¼šæ— ç±»è€Œæœ‰åº

> æ—©æœŸ(ES6 ä¹‹å‰)çš„ JavaScript éƒ½æ²¡æœ‰`Class`å…³é”®å­—ï¼Œåªæœ‰å¯¹è±¡å’Œå‡½æ•°çš„æ¦‚å¿µã€‚  
> ç›¸æ¯”äºŽ Java,C#, JS å¯¹è±¡ä¸ºä»€ä¹ˆå¯ä»¥åŠ¨æ€ç”šè‡³éšæ„åœ°æ·»åŠ å±žæ€§å’Œæ–¹æ³•ï¼Ÿ

ç®€è€Œè¨€ä¹‹åœ°è¯´ï¼šJavaScript æ˜¯**åŸºäºŽå¯¹è±¡**è€Œéžä¼ ç»Ÿç±»é©±åŠ¨çš„é¢å‘å¯¹è±¡è¯­è¨€

ä»€ä¹ˆæ˜¯åŸºäºŽå¯¹è±¡ï¼Ÿä¸ºä½•å¦‚æ­¤è®¾è®¡ï¼Ÿ

[åšå®¢](http://www.ruanyifeng.com/blog/2011/06/designing_ideas_of_inheritance_mechanism_in_javascript.html)å¯¹ JS çš„è®¾è®¡ç†å¿µè¿›è¡Œäº†è¯¦ç»†è®²è¿°ï¼Œè¿™é‡Œè¿›è¡Œç®€å•æ¦‚æ‹¬ï¼š

### ðŸ“‘ JavaScript çš„åˆ›å»ºå²

---

1994 å¹´ï¼Œ`Netscape Navigator`ç½‘ç»œæµè§ˆå™¨çš„å‡ºçŽ°è½°åŠ¨ä¸€æ—¶ï¼Œä½†å½“æ—¶çš„æµè§ˆå™¨åŠŸèƒ½å•ä¸€ï¼ŒçœŸå°±æ˜¯åä¹‰ä¸Šçš„**â€œæµè§ˆå™¨â€**ï¼Œä¸å…·å¤‡äº¤äº’æ€§ã€‚  
å› æ­¤ï¼Œè¿«åˆ‡éœ€è¦ä¸€ç§è½»é‡çº§çš„è„šæœ¬è¯­è¨€æ¥å¢žå¼ºæµè§ˆå™¨çš„äº¤äº’èƒ½åŠ›ã€‚

---

å½“æ—¶ï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰å·²ç»æˆä¸ºä¸€ç§æµè¡Œçš„ç¼–ç¨‹èŒƒå¼ï¼ŒJS çš„è®¾è®¡è€… Brendan Eich ä¹Ÿå—å…¶å½±å“ï¼Œå¸Œæœ›å€Ÿé‰´ OOP çš„ä¼˜ç‚¹ï¼Œä½†åˆä¸æƒ³è®© JS å˜å¾—è¿‡äºŽå¤æ‚ã€‚

---

C++ ç”¨ new å…³é”®å­—åˆ›å»ºå¯¹è±¡ï¼Œ JS åŒæ ·é‡‡ç”¨ new å…³é”®å­—åŸºäºŽ**æž„é€ å‡½æ•°**åˆ›é€ å¯¹è±¡ã€‚

ä½†æŠ›å¼ƒäº†ç±»çš„æ¦‚å¿µåŽï¼Œ ä¸¤ä¸ªå®žä¾‹æ— æ³•å…±äº«å±žæ€§å’Œæ–¹æ³•ï¼Œ å˜æˆäº†ä¸¤ä¸ªç‹¬ç«‹çš„å¯¹è±¡ã€‚

```js
function DOG(name) {
  this.name = name;
  this.species = 'çŠ¬ç§‘';
}
let dogA = new DOG('å¤§æ¯›');
let dogB = new DOG('äºŒæ¯›');
// ä¸¤ä¸¤ç‹¬ç«‹çš„å¯¹è±¡ï¼Œæ— æ³•å…±äº«å±žæ€§å’Œæ–¹æ³•ï¼Œ æ›´æ”¹ä¸€ä¸ªå¯¹è±¡çš„å±žæ€§ï¼Œå¦ä¸€ä¸ªå¯¹è±¡ä¸ä¼šå—åˆ°å½±å“ã€‚

dogA.species = 'çŒ«ç§‘';
log(dogB.species); // æ˜¾ç¤º"çŠ¬ç§‘"ï¼Œä¸å—dogAçš„å½±å“
```

---

å› æ­¤ï¼ŒJS è®¾è®¡è€…å†³å®šå¼•å…¥**åŽŸåž‹** `prototype`æ¥å®žçŽ°å¯¹è±¡å±žæ€§å’Œæ–¹æ³•çš„å¤ç”¨ã€‚

```js
function DOG(name) {
  this.name = name;
}

DOG.prototype = { species: 'çŠ¬ç§‘' };

var dogA = new DOG('å¤§æ¯›');
var dogB = new DOG('äºŒæ¯›');

DOG.prototype.species = 'çŒ«ç§‘';

log(dogA.species); // çŒ«ç§‘
log(dogB.species); // çŒ«ç§‘
```

---

æœ€ç»ˆï¼ŒJS æ”¯æŒå°è£…ã€ç»§æ‰¿ã€å¤šæ€, ES6 ä¹Ÿå¸¦æ¥äº† Class å…³é”®å­—ï¼Œæ ¸å¿ƒæœºåˆ¶ä¾ç„¶æ˜¯**åŽŸåž‹é“¾**ã€‚ä¾‹å¦‚ï¼š

```javascript
// æž„é€ å‡½æ•°æ–¹å¼åˆ›å»ºå¯¹è±¡
function Person(name) {
  this.name = name;
}
Person.prototype.say = function () {
  console.log(this.name);
};
const p1 = new Person('Alice');

// es6
class Person {
  constructor(name) {
    this.name = name;
  }
  say() {
    console.log(this.name);
  }
}
const p2 = new Person('Alice');
```

---

## äºŒã€åŽŸåž‹ä¸ŽåŽŸåž‹é“¾ï¼šJS çš„ç»§æ‰¿åŸºçŸ³

### 1. åŽŸåž‹çš„æœ¬è´¨

åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œ**ç»§æ‰¿**æ˜¯æŒ‡å°†ç‰¹æ€§ä»Žçˆ¶ä»£ä¼ é€’ç»™å­ä»£ï¼Œä»¥ä¾¿æ–°ä»£ç å¯ä»¥é‡ç”¨å¹¶åŸºäºŽçŽ°æœ‰ä»£ç çš„ç‰¹æ€§è¿›è¡Œæž„å»ºã€‚  
JavaScript ä½¿ç”¨åŽŸåž‹é“¾æœºåˆ¶å®žçŽ°ç»§æ‰¿ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€æ¡é“¾æŽ¥åˆ°å¦åŽŸåž‹å¯¹è±¡çš„å†…éƒ¨é“¾ã€‚é€šè¿‡`__proto__`æˆ–`Object.getPrototypeOf()`è®¿é—®ã€‚  
è¯¥åŽŸåž‹å¯¹è±¡æœ‰è‡ªå·±çš„åŽŸåž‹ï¼Œä¾æ­¤ç±»æŽ¨ï¼Œç›´åˆ°åŽŸåž‹ä¸º `null` çš„å¯¹è±¡ï¼Œ`null` æ²¡æœ‰åŽŸåž‹ï¼Œæ˜¯åŽŸåž‹é“¾ä¸­æœ€åŽçš„ä¸€çŽ¯ã€‚

```javascript
const arr = [1, 2, 3];
console.log(arr.map); // ç»§æ‰¿è‡ªArray.prototype çš„ mapæ–¹æ³•

const x = 'hello world';
console.log(x.split(' ')); // ç»§æ‰¿è‡ªString.prototype çš„ splitæ–¹æ³•
```

### 2. å‡½æ•°çš„åŽŸåž‹ VS å¯¹è±¡çš„åŽŸåž‹

**å‡½æ•°çš„åŽŸåž‹** å’Œ **å¯¹è±¡çš„åŽŸåž‹** æ˜¯åŽŸåž‹é“¾æœºåˆ¶çš„æ ¸å¿ƒã€‚  
ä¸Šæ–‡æåˆ°ï¼ŒJS ç”¨ new åˆ›å»ºå¯¹è±¡æ—¶ï¼ŒåŸºäºŽæž„é€ å‡½æ•°è€Œä¸æ˜¯ç±»ï¼ŒJS ä¸­çš„å‡½æ•°å…·æœ‰`prototype`å±žæ€§
ç›´ç™½åœ°è¯´ï¼Œå½“é‡‡ç”¨ä¸€ä¸ªå‡½æ•°åˆ›é€ å¯¹è±¡æ—¶ï¼Œå°±æ˜¯æŠŠè¯¥å‡½æ•°çš„ prototype å±žæ€§ç»™æŒ‚åˆ°å¯¹è±¡çš„**proto**ä¸Š

---

#### 01. å‡½æ•°çš„åŽŸåž‹ï¼ˆ`Function.prototype` å’Œ `fn.prototype`ï¼‰

- æ¯ä¸ªå‡½æ•°ï¼ˆåŒ…æ‹¬æž„é€ å‡½æ•°ï¼‰éƒ½æœ‰ä¸€ä¸ª `prototype` å±žæ€§

- è¿™ä¸ª `prototype` æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¼šè¢«ç”¨ä½œç”±è¯¥å‡½æ•°åˆ›å»ºçš„å¯¹è±¡çš„åŽŸåž‹ã€‚
- å³ï¼š

  ```js
  function Person() {}
  let p = new Person();
  console.log(p.__proto__ === Person.prototype); // true
  ```

- **`Function.prototype` æ˜¯æ‰€æœ‰å‡½æ•°çš„åŽŸåž‹å¯¹è±¡**

- æ‰€æœ‰å‡½æ•°æœ¬èº«ï¼ˆåŒ…æ‹¬ä½ è‡ªå®šä¹‰çš„ï¼‰éƒ½æ˜¯ `Function` çš„å®žä¾‹ï¼š

  ```js
  console.log(Person.__proto__ === Function.prototype); // true
  ```

---

#### 02. å¯¹è±¡çš„åŽŸåž‹ï¼ˆ`__proto__`ï¼‰

`Object.getPrototypeOf(person) === person.__proto__ // true`

- **æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªéšè—å±žæ€§ `__proto__`ï¼ˆæ ‡å‡†å« `[[Prototype]]`ï¼‰**

- å®ƒæŒ‡å‘åˆ›å»ºè¯¥å¯¹è±¡çš„æž„é€ å‡½æ•°çš„ `prototype` å±žæ€§ï¼š

  ```js
  let obj = {};
  console.log(obj.__proto__ === Object.prototype); // true
  ```

- **åŽŸåž‹é“¾æŸ¥æ‰¾æœºåˆ¶**

- JS åœ¨æŸ¥æ‰¾å±žæ€§æˆ–æ–¹æ³•æ—¶ä¼šæ²¿ `__proto__` ä¸€å±‚å±‚å¾€ä¸Šæ‰¾ï¼Œç›´åˆ° `null` ä¸ºæ­¢ã€‚
- è¿™æž„æˆäº†**åŽŸåž‹é“¾**ï¼Œä¾‹å¦‚ï¼š

  ```js
  function Person() {
    this.sayhi = function () {
      console.log('hi');
    };
  }

  const p = new Person();

  console.log(p.__proto__ === Person.prototype, p.__proto__); // true {}

  console.log(
    p.__proto__.__proto__ === Object.prototype,
    Person.prototype.__proto__
  ); // true [Object: null prototype] {}

  console.log(
    p.__proto__.__proto__.__proto__ === null,
    Person.prototype.__proto__.__proto__
  ); // true null

  console.log(Person.__proto__ === Function.prototype, Person.__proto__); // true {}

  console.log(
    Person.__proto__.__proto__ === Object.prototype,
    Person.__proto__.__proto__
  ); // true [Object: null prototype] {}

  console.log(
    Person.__proto__.__proto__.__proto__ === null,
    Person.__proto__.__proto__.__proto__
  ); // true null
  ```

- å¦‚æžœæˆ‘ä»¬ç®€å•æ¨¡æ‹Ÿä¸€ä¸‹ js å¼•æ“ŽæŸ¥æ‰¾å¯¹è±¡çš„å±žæ€§çš„è¿‡ç¨‹ï¼š

  ```js
  function getProperty(obj, propName) {
    // åœ¨å¯¹è±¡æœ¬èº«æŸ¥æ‰¾
    if (obj.hasOwnProperty(propName)) {
      return obj[propName];
    } else if (obj.__proto__ !== null) {
      // å¦‚æžœå¯¹è±¡æœ‰åŽŸåž‹ï¼Œåˆ™åœ¨åŽŸåž‹ä¸Š!é€’å½’!æŸ¥æ‰¾
      return getProperty(obj.__proto__, propName);
    } else {
      // ç›´åˆ°æ‰¾åˆ°Object.prototypeï¼ŒObject.prototype.__proto__ä¸ºnullï¼Œè¿”å›žundefined
      return undefined;
    }
  }
  ```

---

#### 03. åŒºåˆ«ä¸Žè”ç³»

| å¯¹è±¡/å‡½æ•°    | `.prototype` | `.__proto__`               |
| ------------ | ------------ | -------------------------- |
| æ™®é€šå¯¹è±¡     | æ—            | æŒ‡å‘å…¶æž„é€ å‡½æ•°çš„ prototype |
| å‡½æ•°         | **æœ‰**       | æŒ‡å‘ Function.prototype    |
| æž„é€ å‡½æ•°å®žä¾‹ | æ—            | æŒ‡å‘æž„é€ å‡½æ•°çš„ prototype   |

---


## ä¸‰ã€åŽŸåž‹é“¾é©±åŠ¨çš„ç»§æ‰¿æœºåˆ¶

åœ¨ES6ä¹‹å‰ï¼ŒJS æ²¡æœ‰ class å…³é”®å­—ï¼Œå®žçŽ°ç»§æ‰¿çš„æ–¹å¼ç»è¿‡äº†å‡ ä»£æ¼”å˜ï¼Œæœ€ç»ˆé€šè¿‡å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿å®žçŽ°ã€‚

---

### 1 åŽŸåž‹é“¾ç»§æ‰¿

- åŽŸç†ï¼šè®©å­ç±»çš„åŽŸåž‹å¯¹è±¡æŒ‡å‘çˆ¶ç±»çš„å®žä¾‹ã€‚è¿™æ ·ï¼Œå­ç±»å®žä¾‹å°±èƒ½è®¿é—®åˆ°çˆ¶ç±»åŽŸåž‹ä¸Šçš„å±žæ€§å’Œæ–¹æ³•ã€‚
- ä¼˜ç‚¹ï¼šå­ç±»å®žä¾‹å¯ä»¥è®¿é—®çˆ¶ç±»åŽŸåž‹ä¸Šçš„æ–¹æ³•ã€‚
- ç¼ºç‚¹ï¼š**æ‰€æœ‰å­ç±»å®žä¾‹å…±äº«çˆ¶ç±»å®žä¾‹å±žæ€§**ï¼ˆå¦‚æ•°ç»„ã€å¯¹è±¡ç­‰å¼•ç”¨ç±»åž‹ï¼‰ï¼Œ åˆ›å»ºå­ç±»å®žä¾‹æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»æž„é€ å‡½æ•°ä¼ å‚
   
- è¯´ç™½äº†ï¼Œå­ç±»æ°¸è¿œæŒæœ‰çˆ¶ç±»çš„åŒä¸€ä¸ªå®žä¾‹ï¼Œå¯¼è‡´çˆ¶ç±»å±žæ€§è¢«é”™è¯¯å…±äº«ã€‚

---

```js
  function Parent() {
    this.name = 'parent';
  }

  Parent.prototype.sayName = function() {
    console.log(this.name);
  }

  function Child() {
    this.type = 'child';
  }

  Child.prototype = new Parent();

  var child = new Child();
  child.sayName(); // 'parent'
```

### 2 å€Ÿç”¨æž„é€ å‡½æ•°ç»§æ‰¿

è¿™ç§æ–¹å¼çš„åˆè¡·åœ¨äºŽè§£å†³åŽŸåž‹é“¾ç»§æ‰¿çš„å¼•ç”¨ç±»åž‹è¢«é”™è¯¯å…±äº«çš„é—®é¢˜ï¼Œé€šè¿‡åœ¨å­ç±»æž„é€ å‡½æ•°ä¸­è°ƒç”¨çˆ¶ç±»æž„é€ å‡½æ•°æ¥å®žçŽ°ã€‚

- åŽŸç†ï¼šåœ¨å­ç±»æž„é€ å‡½æ•°ä¸­è°ƒç”¨çˆ¶ç±»æž„é€ å‡½æ•°ï¼Œè¿™æ ·æ¯ä¸ªå­ç±»å®žä¾‹éƒ½æœ‰è‡ªå·±çš„çˆ¶ç±»å®žä¾‹å±žæ€§ï¼Œäº’ä¸å¹²æ‰°ã€‚
- ä¼˜ç‚¹ï¼šæ¯ä¸ªå­ç±»å®žä¾‹éƒ½æœ‰è‡ªå·±çš„çˆ¶ç±»å±žæ€§ï¼Œäº’ä¸å½±å“ã€‚å¯ä»¥å‘çˆ¶ç±»æž„é€ å‡½æ•°ä¼ å‚ã€‚
- ç¼ºç‚¹ï¼š**çˆ¶ç±»åŽŸåž‹ä¸Šçš„æ–¹æ³•æ— æ³•è¢«å­ç±»ç»§æ‰¿**ã€‚æ¯ä¸ªå®žä¾‹éƒ½å•ç‹¬æ‹·è´ä¸€ä»½çˆ¶ç±»å±žæ€§ï¼Œæ–¹æ³•æ— æ³•å¤ç”¨ã€‚

---

```js
function Parent() {
  this.name = 'parent';
}
Parent.prototype.sayName = function() {
  console.log(this.name);
}

function Child() {
  Parent.call(this);
  this.type = 'child';
}

var child = new Child();
console.log(child.name); // 'parent'
```

### 3 ç»„åˆç»§æ‰¿

- åŽŸç†ï¼šå°†åŽŸåž‹é“¾ç»§æ‰¿å’Œå€Ÿç”¨æž„é€ å‡½æ•°ç»§æ‰¿ç»“åˆèµ·æ¥ï¼Œæ—¢å¯ä»¥ç»§æ‰¿çˆ¶ç±»åŽŸåž‹ä¸Šçš„æ–¹æ³•ï¼Œåˆå¯ä»¥é¿å…å±žæ€§å…±äº«çš„é—®é¢˜ã€‚
- ä¼˜ç‚¹ï¼šæ¯ä¸ªå­ç±»å®žä¾‹æœ‰è‡ªå·±çš„çˆ¶ç±»å±žæ€§ï¼Œäº’ä¸å½±å“ | çˆ¶ç±»åŽŸåž‹ä¸Šçš„æ–¹æ³•å¯ä»¥å¤ç”¨
- ç¼ºç‚¹ï¼š**çˆ¶ç±»åŽŸåž‹ä¸Šçš„æ–¹æ³•è¢«è°ƒç”¨ä¸¤æ¬¡**ï¼Œä¸€æ¬¡åœ¨åŽŸåž‹é“¾ç»§æ‰¿æ—¶ï¼Œä¸€æ¬¡åœ¨å€Ÿç”¨æž„é€ å‡½æ•°ç»§æ‰¿æ—¶ã€‚

---

```js
function Parent() {
  this.name = 'parent';
}

Parent.prototype.sayName = function() {
  console.log(this.name);
}

function Child() {
  Parent.call(this);
  this.type = 'child';
}

Child.prototype = new Parent();
Child.prototype.constructor = Child;

var child = new Child();
child.sayName(); // 'parent'
console.log(child.name); // 'parent'
```

### 4. åŽŸåž‹å¼ç»§æ‰¿ï¼ˆè¿™ä¸åƒæ˜¯ç»§æ‰¿ï¼Œåƒæ˜¯ç›´æŽ¥æ¢­å“ˆçš„jså¯¹è±¡ï¼‰

Douglas Crockford æå‡ºçš„ä¸€ç§ç»§æ‰¿æ–¹å¼ï¼ŒåŸºäºŽä¸€ä¸ªçŽ°æœ‰å¯¹è±¡åˆ›å»ºæ–°å¯¹è±¡ã€‚

- åŽŸç†ï¼šä½¿ç”¨ `Object.create()` æ–¹æ³•ï¼ˆæˆ–è€…æ¨¡æ‹Ÿå®žçŽ°ï¼‰æ¥åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶å°†æ–°å¯¹è±¡çš„åŽŸåž‹æŒ‡å‘ä¸€ä¸ªå·²å­˜åœ¨çš„å¯¹è±¡ã€‚
- ä¼˜ç‚¹ï¼šç®€å•çµæ´»
- ç¼ºç‚¹ï¼šå’ŒåŽŸåž‹é“¾ç»§æ‰¿ä¸€æ ·ï¼Œå¼•ç”¨ç±»åž‹å…±äº«é—®é¢˜

```js
function createObject(obj) {
  function F() {}
  F.prototype = obj;
  return new F();
}

var parent = {
  name: 'parent',
  sayName: function() {
    console.log(this.name);
  }
};

var child = createObject(parent);
child.name = 'child';
child.sayName(); // 'child'
```

-----

### 5. å¯„ç”Ÿå¼ç»§æ‰¿ï¼ˆæžç¬‘å‘¢ï¼Œå±žäºŽå‡‘æ•°çš„ï¼‰

åœ¨åŽŸåž‹å¼ç»§æ‰¿çš„åŸºç¡€ä¸Šï¼Œå¢žå¼ºå¯¹è±¡ã€‚

- åŽŸç†ï¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æŽ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œç„¶åŽå¢žå¼ºè¯¥å¯¹è±¡ï¼Œå¹¶è¿”å›žè¯¥å¯¹è±¡ã€‚
- ä¼˜ç‚¹ï¼šåœ¨åŽŸåž‹å¼ç»§æ‰¿çš„åŸºç¡€ä¸Šå¢žå¼ºå­å¯¹è±¡ï¼ŒåŠ ä¸ªæ–¹æ³•å±žæ€§å•¥çš„ï¼ŒWTFè¿™ä¹Ÿèƒ½æˆä¸ºä¸€ç±»å—ï¼Ÿ
- ç¼ºç‚¹ï¼šå’ŒåŽŸåž‹å¼ç»§æ‰¿ä¸€æ ·ï¼Œå­˜åœ¨å¼•ç”¨ç±»åž‹å…±äº«é—®é¢˜ï¼Œéš”é´æ”ç—’ã€‚

---

```js
function createObject(obj) {
  function F() {}
  F.prototype = obj;
  return new F();
}

function createChild(parent) {
  var child = createObject(parent);
  child.name = 'child';
  child.sayName = function() {
    console.log(this.name);
  };
  return child;
}

var parent = {
  name: 'parent',
  sayName: function() {
    console.log(this.name);
  }
};

var child = createChild(parent);
child.sayName(); // 'child'
```


-----

### 6. å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿

è¿™æ˜¯**æœ€ç†æƒ³çš„ç»§æ‰¿æ–¹å¼**ï¼Œä½¿ç”¨Object.create()æ–¹æ³•æ¥åˆ›å»º**çˆ¶ç±»åŽŸåž‹**çš„å‰¯æœ¬ï¼Œé¿å…äº†è°ƒç”¨çˆ¶ç±»æž„é€ å‡½æ•°æ—¶åˆ›å»ºä¸å¿…è¦çš„å®žä¾‹ã€‚

- åŽŸç†ï¼šåˆ›å»ºçˆ¶ç±»åŽŸåž‹çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™å­ç±»åŽŸåž‹ï¼Œé¿å…äº†è°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»æž„é€ å‡½æ•°ã€‚
- ä¼˜ç‚¹ï¼šè§£å†³äº†æ‰€æœ‰ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹ï¼Œ**å¼•ç”¨ç±»åž‹å…±äº«**å’Œ**çˆ¶ç±»æž„é€ å‡½æ•°è¢«è°ƒç”¨ä¸¤æ¬¡**çš„é—®é¢˜ã€‚

```js
function inherit(child, parent) {
  var prototype = Object.create(parent.prototype); // åˆ›å»ºçˆ¶ç±»åŽŸåž‹çš„ä¸€ä¸ªå‰¯æœ¬
  prototype.constructor = child;
  child.prototype = prototype;
}

function Parent() {
  this.name = 'parent';
}

Parent.prototype.sayName = function() {
  console.log(this.name);
}

function Child() {
  Parent.call(this);// åªè°ƒç”¨1æ¬¡çˆ¶ç±»æž„é€ å‡½æ•°
  this.type = 'child';
}

inherit(Child, Parent);

var child = new Child();
child.sayName(); // 'parent'
console.log(child.name); // 'parent'
```

-----

### 7. ES6 Class ç»§æ‰¿

ES6 å¼•å…¥äº† `class` å…³é”®å­—ï¼Œä½†å®ƒ**æœ¬è´¨ä¸Šä»ç„¶æ˜¯åŸºäºŽåŽŸåž‹é“¾å’Œå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„è¯­æ³•ç³–**ã€‚å®ƒå¹¶æ²¡æœ‰å¼•å…¥æ–°çš„ç»§æ‰¿æ¨¡åž‹ï¼Œåªæ˜¯è®© JavaScript çš„ç»§æ‰¿å†™æ³•æ›´æŽ¥è¿‘ä¼ ç»Ÿé¢å‘å¯¹è±¡è¯­è¨€ã€‚

- æ ¸å¿ƒï¼š`extends` å…³é”®å­—å’Œ `super` å…³é”®å­—å°è£…äº†å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„åº•å±‚é€»è¾‘ã€‚
```javascript
    class Parent {
        constructor(name) {
            this.name = name;
            this.hobbies = ['reading', 'coding'];
        }
        sayHello() {
            console.log('Hello, I am ' + this.name);
        }
    }

    class Child extends Parent {
        constructor(name, age) {
            super(name); // ç›¸å½“äºŽ Parent.call(this, name)ï¼Œè°ƒç”¨çˆ¶ç±»æž„é€ å‡½æ•°
            this.age = age;
        }
        sayAge() {
            console.log('My age is ' + this.age);
        }
    }
```

**åœ¨ ES6 class ä¸­**ï¼š
æ‰€æœ‰åœ¨ constructor ä¸­ä½¿ç”¨ `this.propertyName = value` å®šä¹‰çš„**å±žæ€§**ï¼Œä»¥åŠç›´æŽ¥åœ¨ç±»ä½“ä¸­ä½¿ç”¨**ç±»å­—æ®µè¯­æ³•** (propertyName = value;) å®šä¹‰çš„å±žæ€§ï¼Œéƒ½æ˜¯**å®žä¾‹å±žæ€§**ã€‚ å®ƒä»¬å­˜åœ¨äºŽæ¯ä¸ªç‹¬ç«‹çš„å®žä¾‹ä¸Šï¼Œ**ä¸å…±äº«**ã€‚   
æ‰€æœ‰åœ¨ç±»ä½“ä¸­ä»¥æ–¹æ³•å½¢å¼å®šä¹‰çš„ `function` `methodName() { ... }`ï¼Œä»¥åŠä½¿ç”¨ `static` å…³é”®å­—å®šä¹‰çš„**é™æ€æ–¹æ³•/å±žæ€§**ï¼Œéƒ½æ˜¯åŽŸåž‹å±žæ€§æˆ–ç›´æŽ¥æŒ‚åœ¨ç±»æž„é€ å‡½æ•°ä¸Šçš„å±žæ€§ã€‚ å®ƒä»¬åœ¨å®žä¾‹ä¹‹é—´æ˜¯**å…±äº«çš„**ï¼Œé€šè¿‡åŽŸåž‹é“¾è®¿é—®ã€‚

```js
	class X {
	    a = 0 // ç±»å­—æ®µï¼Œæ˜¯å®žä¾‹å±žæ€§
	    constructor() {
	        this.b = 1 // å®žä¾‹å±žæ€§
	    }
	
	    // åŽŸåž‹æ–¹æ³•
	    c() {
	    }
	
	    // d ä¹Ÿæ˜¯ç±»å­—æ®µï¼Œæ˜¯å®žä¾‹å±žæ€§
	    d = () => {
	
	    }
	}
	
	const xx = new X()
	console.log('c' in xx, 'c' in xx.__proto__) // true, true
	console.log('d' in xx, 'd' in xx.__proto__) // false, true

```